# Copy to config/settings.yaml and customize for your environment

orchestrator:
  provider: "anthropic"
  model: "claude-3-5-sonnet"
  temperature: 0.2
  max_output_tokens: 1024
  fallback_model: "llama3-8b-instruct"
  memory_backend: "redis://localhost:6379/0"
  audit_log_path: "/var/lib/maxos/audit.log"

agents:
  filesystem:
    root_whitelist:
      - "/home"
      - "/srv"
    require_confirmation_over_mb: 50
    confirmation:
      enabled: true
      require_for_operations:
        - copy
        - move
        - delete
      auto_approve_under_mb: 10  # Auto-approve operations < 10MB
    rollback:
      enabled: true
      trash_retention_days: 30
      max_trash_size_gb: 50
    transactions:
      db_path: "~/.maxos/transactions.db"
      log_all_operations: true
  system:
    allowed_units:
      - "ssh.service"
      - "docker.service"
  developer:
    default_stack: "fastapi-react"
    git_provider: "github"
  network:
    allowed_interfaces:
      - "wlan0"
      - "eth0"

llm:
  anthropic_api_key: "set-me"
  openai_api_key: "optional"
  google_api_key: "optional"  # For multi-agent system with Gemini
  local_model_path: "/opt/models/llama3-8b.gguf"
  # LLM-powered intent classification settings (uses orchestrator.provider and orchestrator.model)
  fallback_to_rules: true         # Fall back to keyword matching if LLM fails
  max_tokens: 500                 # Max tokens for classification response
  temperature: 0.1                # Low temperature for consistent classification
  timeout_seconds: 10             # Request timeout

# Multi-agent orchestration system
multi_agent:
  enabled: false  # Enable to use multi-agent system
  google_api_key: "set-me"  # Or use GOOGLE_API_KEY env var
  max_debate_rounds: 3
  consensus_threshold: 0.8
  route_complex_queries: true  # Auto-route complex queries to multi-agent

policy:
  require_mfa: true
  confirmation_thresholds:
    destructive: true
    filesystem: 100
    systemd: true

logging:
  level: "INFO"
  json: true
  file: "logs/maxos.log"

storage:
  # Hot cache (in-memory, fast)
  redis:
    url: "redis://localhost:6379/0"
    ttl: 3600  # 1 hour

  # Local persistent (offline, audit)
  sqlite:
    path: "~/.maxos/maxos.db"
    auto_vacuum: true

  # Cloud persistent (sync, multimodal)
  firestore:
    enabled: true
    project_id: "${GOOGLE_CLOUD_PROJECT}"
    credentials: "${GOOGLE_APPLICATION_CREDENTIALS}"
    offline_mode: false  # Set true to disable cloud sync

  # Blob storage
  cloud_storage:
    bucket: "${GOOGLE_CLOUD_PROJECT}-maxos-storage"
    auto_create_bucket: true
    location: "us-central1"

telemetry:
  enabled: false
  endpoint: "https://telemetry.tezzaworks.ai"
  # Google Analytics configuration (optional)
  google_analytics:
    measurement_id: "G-XXXXXXXXXX"  # Your GA4 Measurement ID
    api_secret: "your-api-secret"   # Your Measurement Protocol API Secret
